/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.2
 *//*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var F=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],m=F.join(","),O=typeof Element>"u",d=O?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,T=!O&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},w=function t(e,r){var n;r===void 0&&(r=!0);var a=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),i=a===""||a==="true",u=i||r&&e&&t(e.parentNode);return u},$=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},D=function(e,r,n){if(w(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(m));return r&&d.call(e,m)&&a.unshift(e),a=a.filter(n),a},L=function t(e,r,n){for(var a=[],i=Array.from(e);i.length;){var u=i.shift();if(!w(u,!1))if(u.tagName==="SLOT"){var s=u.assignedElements(),l=s.length?s:u.children,c=t(l,!0,n);n.flatten?a.push.apply(a,c):a.push({scopeParent:u,candidates:c})}else{var o=d.call(u,m);o&&n.filter(u)&&(r||!e.includes(u))&&a.push(u);var f=u.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(u),y=!w(f,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(u));if(f&&y){var b=t(f===!0?u.children:f.children,!0,n);n.flatten?a.push.apply(a,b):a.push({scopeParent:u,candidates:b})}else i.unshift.apply(i,u.children)}}return a},q=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},B=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||$(e))&&!q(e)?0:e.tabIndex},W=function(e,r){var n=B(e);return n<0&&r&&!q(e)?0:n},X=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},k=function(e){return e.tagName==="INPUT"},Z=function(e){return k(e)&&e.type==="hidden"},z=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},H=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},K=function(e){if(!e.name)return!0;var r=e.form||T(e),n=function(s){return r.querySelectorAll('input[type="radio"][name="'+s+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(e.name));else try{a=n(e.name)}catch(u){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",u.message),!1}var i=H(a,e.form);return!i||i===e},Y=function(e){return k(e)&&e.type==="radio"},J=function(e){return Y(e)&&!K(e)},Q=function(e){var r,n=e&&T(e),a=(r=n)===null||r===void 0?void 0:r.host,i=!1;if(n&&n!==e){var u,s,l;for(i=!!((u=a)!==null&&u!==void 0&&(s=u.ownerDocument)!==null&&s!==void 0&&s.contains(a)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!i&&a;){var c,o,f;n=T(a),a=(c=n)===null||c===void 0?void 0:c.host,i=!!((o=a)!==null&&o!==void 0&&(f=o.ownerDocument)!==null&&f!==void 0&&f.contains(a))}}return i},N=function(e){var r=e.getBoundingClientRect(),n=r.width,a=r.height;return n===0&&a===0},V=function(e,r){var n=r.displayCheck,a=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=d.call(e,"details>summary:first-of-type"),u=i?e.parentElement:e;if(d.call(u,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof a=="function"){for(var s=e;e;){var l=e.parentElement,c=T(e);if(l&&!l.shadowRoot&&a(l)===!0)return N(e);e.assignedSlot?e=e.assignedSlot:!l&&c!==e.ownerDocument?e=c.host:e=l}e=s}if(Q(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return N(e);return!1},_=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var a=r.children.item(n);if(a.tagName==="LEGEND")return d.call(r,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}r=r.parentElement}return!1},p=function(e,r){return!(r.disabled||w(r)||Z(r)||V(r,e)||z(r)||_(r))},E=function(e,r){return!(J(r)||B(r)<0||!p(e,r))},ee=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},te=function t(e){var r=[],n=[];return e.forEach(function(a,i){var u=!!a.scopeParent,s=u?a.scopeParent:a,l=W(s,u),c=u?t(a.candidates):s;l===0?u?r.push.apply(r,c):r.push(s):n.push({documentOrder:i,tabIndex:l,item:a,isScope:u,content:c})}),n.sort(X).reduce(function(a,i){return i.isScope?a.push.apply(a,i.content):a.push(i.content),a},[]).concat(r)},re=function(e,r){r=r||{};var n;return r.getShadowRoot?n=L([e],r.includeContainer,{filter:E.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:ee}):n=D(e,r.includeContainer,E.bind(null,r)),te(n)},we=function(e,r){r=r||{};var n;return r.getShadowRoot?n=L([e],r.includeContainer,{filter:p.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=D(e,r.includeContainer,p.bind(null,r)),n},pe=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return d.call(e,m)===!1?!1:E(r,e)},ne=F.concat("iframe").join(","),Ae=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return d.call(e,ne)===!1?!1:p(r,e)};const ae={getShadowRoot:!0};function Ce(t){const e="dir",r=`[${e}]`,n=M(t,r);return n?n.getAttribute(e):"ltr"}function x(t){return t.getRootNode()}function Ie(t){const e=x(t);return"host"in e?e:null}function P(t){return t.host||null}function ie(t,{selector:e,id:r}){if(!t)return null;t.assignedSlot&&(t=t.assignedSlot);const n=x(t);return(r?"getElementById"in n?n.getElementById(r):null:e?n.querySelector(e):null)||ie(P(n),{selector:e,id:r})}function M(t,e){return t?t.closest(e)||M(P(x(t)),e):null}function ue(t,e){return j(t,e)}function j(t,e){if(!t)return;const r=e(t);if(r!==void 0)return r;const{parentNode:n}=t;return j(n instanceof ShadowRoot?n.host:n,e)}function Ee(t,e){return!!ue(e,r=>r===t?!0:void 0)}function se(t){return typeof(t==null?void 0:t.setFocus)=="function"}async function le(t){if(t)return se(t)?t.setFocus():t.focus()}function ce(t){if(t)return re(t,ae)[0]??t}function xe(t){var e;(e=ce(t))==null||e.focus()}const g=":not([slot])";function Ne(t,e,r){e&&!Array.isArray(e)&&typeof e!="string"&&(r=e,e=null);const n=e?Array.isArray(e)?e.map(a=>`[slot="${a}"]`).join(","):`[slot="${e}"]`:g;return r!=null&&r.all?fe(t,n,r):oe(t,n,r)}function G(t,e){return t?Array.from(t.children||[]).filter(r=>r==null?void 0:r.matches(e)):[]}function fe(t,e,r){let n=e===g?G(t,g):Array.from(t.querySelectorAll(e));n=r&&r.direct===!1?n:n.filter(i=>i.parentElement===t),n=r!=null&&r.matches?n.filter(i=>i==null?void 0:i.matches(r.matches)):n;const a=r==null?void 0:r.selector;return a?n.map(i=>Array.from(i.querySelectorAll(a))).reduce((i,u)=>[...i,...u],[]).filter(i=>!!i):n}function oe(t,e,r){let n=e===g?G(t,g)[0]||null:t.querySelector(e);n=r&&r.direct===!1||(n==null?void 0:n.parentElement)===t?n:null,n=r!=null&&r.matches?n!=null&&n.matches(r.matches)?n:null:n;const a=r==null?void 0:r.selector;return a?n==null?void 0:n.querySelector(a):n}function de(t,e){return t.filter(r=>r.matches(e))}function Re(t,e,r){if(typeof e=="string"&&e!=="")return e;if(e==="")return t[r]}function Fe(t){return(!!t).toString()}function Oe(t){return ge(t)||he(t)}function be(t){return ve(t).filter(e=>e.nodeType===Node.TEXT_NODE).map(e=>e.textContent).join("").trim()}function he(t){return!!be(t)}function ve(t){return t.currentTarget.assignedNodes({flatten:!0})}function ge(t){return!!ye(t).length}function ye(t,e){return Se(t.target,e)}function Se(t,e){const r=t.assignedElements({flatten:!0});return e?de(r,e):r}function De(t){return!!(t.isPrimary&&t.button===0)}function Le(t){return t.detail===0}const qe=(t,e,r,n=!0)=>{const a=t.indexOf(e),i=a===0,u=a===t.length-1;n&&(r=r==="previous"&&i?"last":r==="next"&&u?"first":r);let s;return r==="previous"?s=t[a-1]||t[n?t.length-1:a]:r==="next"?s=t[a+1]||t[n?0:a]:r==="last"?s=t[t.length-1]:s=t[0],le(s),s};function Be(t,e){if(t.parentNode!==e.parentNode)return!1;const r=Array.from(t.parentNode.children);return r.indexOf(t)<r.indexOf(e)}async function ke(t,e,r,n){return me(t,e,"transition",r,n)}async function me(t,e,r,n,a){const i=window.getComputedStyle(t),u=i.transitionDuration,s=i.transitionProperty,l=u.split(","),o=s.split(",").map(S=>S.trim()).indexOf(e),f=l[o]??l[0];function y(){requestAnimationFrame(()=>{n==null||n(),requestAnimationFrame(()=>a==null?void 0:a())})}if(f==="0s"){y();return}const b="transitionstart",A="transitionend",C="transitioncancel";return new Promise(S=>{const U=window.setTimeout(()=>{t.removeEventListener(b,I),t.removeEventListener(A,h),t.removeEventListener(C,h),y(),S()},parseFloat(f)*1e3);t.addEventListener(b,I),t.addEventListener(A,h),t.addEventListener(C,h);function I(v){v.target===t&&R(v)===e&&(window.clearTimeout(U),t.removeEventListener(b,I),n==null||n())}function h(v){v.target===t&&R(v)===e&&(t.removeEventListener(A,h),t.removeEventListener(C,h),a==null||a(),S())}})}function Te(t){return"propertyName"in t}function R(t){return Te(t)?t.propertyName:t.animationName}export{Ee as a,ye as b,M as c,Oe as d,Ie as e,xe as f,Ce as g,ce as h,Be as i,Re as j,Ne as k,le as l,qe as m,Ae as n,re as o,we as p,ie as q,pe as r,ge as s,Fe as t,B as u,ae as v,ke as w,Le as x,De as y};
