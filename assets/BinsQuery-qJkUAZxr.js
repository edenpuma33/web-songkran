import{cS as B,l as j,r as t,t as r,x as y,g8 as c,dp as R,dq as d,lr as D,a3 as O,f8 as b,ls as N,g as S,fm as M,g7 as V,lt as I,lu as Z,lv as L}from"./index-CorgkmYx.js";import{R as T}from"./queryUtils-CwRl2kBy.js";import"./json-BLezgqVO.js";let l=class extends B(j){constructor(n){super(n),this.alias=null,this.expression=null,this.field=null,this.responseType=null}};t([r({type:String,json:{write:!0}})],l.prototype,"alias",void 0),t([r({type:String,json:{write:!0}})],l.prototype,"expression",void 0),t([r({type:String,json:{write:!0}})],l.prototype,"field",void 0),t([r({type:String,json:{write:!0}})],l.prototype,"responseType",void 0),l=t([y("esri.rest.support.BinParametersAttributes")],l);const g=l;l.from=c(l);const _=new R({naturalLog:"natural-log",squareRoot:"square-root"});let a=class extends B(j){constructor(n){super(n),this.expression=null,this.field=null,this.firstDayOfWeek=null,this.hideUpperBound=null,this.splitByAttributes=null,this.stackByAttributes=null,this.transformation=null}};t([r({type:String,json:{write:!0}})],a.prototype,"expression",void 0),t([r({type:String,json:{name:"onField",write:!0}})],a.prototype,"field",void 0),t([r({type:String,json:{write:!0}})],a.prototype,"firstDayOfWeek",void 0),t([r({type:String,json:{write:!0}})],a.prototype,"hideUpperBound",void 0),t([r({type:g,json:{write:{target:{splitBy:{type:String},splitByField:{type:String},splitByAlias:{type:String}},writer:(e,n)=>{e.field!=null&&(n.splitByField=e.field),e.expression!=null&&(n.splitBy=e.expression),e.alias!=null&&(n.splitByAlias=e.alias)}},read:{source:["splitBy","splitByField","splitByAlias"],reader:(e,n)=>new g({field:n.splitByField,expression:n.splitBy,alias:n.splitByAlias})}}})],a.prototype,"splitByAttributes",void 0),t([r({type:g,json:{write:{target:{stackBy:{type:String},stackByField:{type:String},stackByAlias:{type:String},jsonStyle:{type:String}},writer:(e,n)=>{e.field!=null&&(n.stackByField=e.field),e.expression!=null&&(n.stackBy=e.expression),e.alias!=null&&(n.stackByAlias=e.alias),e.responseType!=null&&(n.jsonStyle=e.responseType)},overridePolicy(){var e,n;return{enabled:((e=this.stackByAttributes)==null?void 0:e.field)!=null||((n=this.stackByAttributes)==null?void 0:n.expression)!=null}}},read:{source:["stackBy","stackByField","stackByAlias","jsonStyle"],reader:(e,n)=>new g({field:n.stackByField,expression:n.stackBy,alias:n.stackByAlias,responseType:n.jsonStyle})}}})],a.prototype,"stackByAttributes",void 0),t([d(_)],a.prototype,"transformation",void 0),a=t([y("esri.rest.support.BinParametersBase")],a);const w=a,H=D()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),v="percent-of-total",z="field",q=e=>{let n=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let i=this._get("normalizationType");const h=!!this.normalizationField,x=this.normalizationTotal!=null;return h||x?(i=h&&z||x&&v||null,h&&x&&O.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):i!==z&&i!==v||(i=null),i}set normalizationType(i){this._set("normalizationType",i)}};return t([r({type:String,json:{name:"parameters.normalizationField",write:!0}})],n.prototype,"normalizationField",void 0),t([r({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],n.prototype,"normalizationMaxValue",void 0),t([r({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],n.prototype,"normalizationMinValue",void 0),t([r({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],n.prototype,"normalizationTotal",void 0),t([d(H,{name:"parameters.normalizationType"})],n.prototype,"normalizationType",null),n=t([y("esri.rest.support.NormalizationBinParametersMixin")],n),n};function $(e,n,i){b(i,e instanceof Date?e.getTime():e,n)}let u=class extends q(w){constructor(n){super(n),this.bins=null,this.end=null,this.start=null,this.type="auto-interval"}};t([r({type:Number,json:{name:"parameters.numberOfBins",write:!0}})],u.prototype,"bins",void 0),t([r({json:{name:"parameters.end",write:{writer:$}}})],u.prototype,"end",void 0),t([r({json:{name:"parameters.start",write:{writer:$}}})],u.prototype,"start",void 0),t([d({autoIntervalBin:"auto-interval"},{readOnly:!0})],u.prototype,"type",void 0),u=t([y("esri.rest.support.AutoIntervalBinParameters")],u);const U=u;u.from=c(u);const W=D()({year:"years",quarter:"quarters",month:"months",week:"weeks",day:"days",hour:"hours",minute:"minutes",second:"seconds"});let m=class extends B(j){constructor(n){super(n),this.value=null,this.units=null}};t([r({type:Number,json:{name:"number",write:!0}})],m.prototype,"value",void 0),t([d(W,{name:"unit"})],m.prototype,"units",void 0),m=t([y("esri.rest.support.DateBinTimeInterval")],m);const A=m;m.from=c(m);function k(e,n,i){b(i,typeof e=="string"?e:e==null?void 0:e.getTime(),n)}function F(e,n){const i=e.parameters[n];return i?typeof i=="string"?i:new Date(i):null}let o=class extends w{constructor(n){super(n),this.end=null,this.interval=null,this.offset=null,this.start=null,this.type="date"}};t([r({cast:e=>e?typeof e=="string"?e:new Date(e):null,json:{name:"parameters.end",read:{reader:(e,n)=>F(n,"end")},write:{writer:k}}})],o.prototype,"end",void 0),t([r({type:A,json:{name:"parameters",write:!0}})],o.prototype,"interval",void 0),t([r({type:A,json:{name:"parameters.offset",write:!0}})],o.prototype,"offset",void 0),t([r({cast:e=>e?typeof e=="string"?e:new Date(e):null,json:{name:"parameters.start",read:{reader:(e,n)=>F(n,"start")},write:{writer:k}}})],o.prototype,"start",void 0),t([d({dateBin:"date"},{readOnly:!0})],o.prototype,"type",void 0),o=t([y("esri.rest.support.DateBinParameters")],o);const Q=o;o.from=c(o);function C(e){return e[0]instanceof Date}function E(e,n,i){b(i,e&&C(e)?e.map(h=>h.getTime()):e,n)}let f=class extends w{constructor(n){super(n),this.boundaries=null,this.type="fixed-boundaries"}};t([r({json:{name:"parameters.boundaries",write:{writer:E}}})],f.prototype,"boundaries",void 0),t([d({fixedBoundariesBin:"fixed-boundaries"},{readOnly:!0})],f.prototype,"type",void 0),f=t([y("esri.rest.support.FixedBoundariesBinParameters")],f);const G=f;f.from=c(f);function P(e,n,i){b(i,e instanceof Date?e.getTime():e,n)}let p=class extends q(w){constructor(e){super(e),this.end=null,this.interval=null,this.start=null,this.type="fixed-interval"}};t([r({json:{name:"parameters.end",write:{writer:P}}})],p.prototype,"end",void 0),t([r({type:Number,json:{name:"parameters.interval",write:!0}})],p.prototype,"interval",void 0),t([r({json:{name:"parameters.start",write:{writer:P}}})],p.prototype,"start",void 0),t([d({fixedIntervalBin:"fixed-interval"},{readOnly:!0})],p.prototype,"type",void 0),p=t([y("esri.rest.support.FixedIntervalBinParameters")],p);const J=p;p.from=c(p);const K=new R({asc:"ascending",desc:"descending"}),X={base:w,key:"type",typeMap:{"auto-interval":U,date:Q,"fixed-boundaries":G,"fixed-interval":J}};let s=class extends B(j){constructor(e){super(e),this.binParameters=null,this.binOrder="ascending",this.cacheHint=void 0,this.datumTransformation=null,this.defaultSpatialReference=null,this.distance=void 0,this.geometry=null,this.lowerBoundaryAlias=null,this.outSpatialReference=null,this.outStatistics=null,this.quantizationParameters=null,this.returnDistinctValues=null,this.spatialRelationship="intersects",this.upperBoundaryAlias=null,this.units=null,this.where="1=1"}set outTimeZone(e){this._set("outTimeZone",e),e&&!N(e)&&O.getLogger(this).warn("#outTimeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}};t([r({types:X,json:{name:"bin",write:!0}})],s.prototype,"binParameters",void 0),t([d(K)],s.prototype,"binOrder",void 0),t([r({type:Boolean,json:{write:!0}})],s.prototype,"cacheHint",void 0),t([r({json:{write:!0}})],s.prototype,"datumTransformation",void 0),t([r({type:S,json:{name:"defaultSR",write:!0}})],s.prototype,"defaultSpatialReference",void 0),t([r({type:Number,json:{write:{overridePolicy:e=>({enabled:e>0})}}})],s.prototype,"distance",void 0),t([r({types:V,json:{read:M,write:!0}})],s.prototype,"geometry",void 0),t([r({type:String,json:{write:!0}})],s.prototype,"lowerBoundaryAlias",void 0),t([r({type:S,json:{name:"outSR",write:!0}})],s.prototype,"outSpatialReference",void 0),t([r({type:[I],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],s.prototype,"outStatistics",void 0),t([r({value:null,json:{name:"outTimeReference",read:{reader:e=>e.ianaTimeZone},write:{writer:(e,n,i)=>{e&&(n[i]={ianaTimeZone:e})}}}})],s.prototype,"outTimeZone",null),t([r({type:Z,json:{write:!0}})],s.prototype,"quantizationParameters",void 0),t([r({type:Boolean,json:{write:!0}})],s.prototype,"returnDistinctValues",void 0),t([d(L,{name:"spatialRel"})],s.prototype,"spatialRelationship",void 0),t([r({type:String,json:{write:!0}})],s.prototype,"upperBoundaryAlias",void 0),t([r({type:String,json:{read:T.read,write:{writer:T.write,overridePolicy(e){return{enabled:e!=null&&this.distance!=null&&this.distance>0}}}}})],s.prototype,"units",void 0),t([r({type:String,json:{write:!0}})],s.prototype,"where",void 0),s=t([y("esri.rest.support.BinsQuery")],s);const le=s;s.from=c(s);export{le as default};
