import{r as l,t as i,Q as u,g as S,cT as f,x as I}from"./index-CorgkmYx.js";import{e as O}from"./TileInfoTilemapCache-DlMgW5av.js";import{T as g}from"./TilemapCache-CZ6LPrnm.js";const T=h=>{let t=class extends h{constructor(){super(...arguments),this.copyright=null,this.minScale=0,this.maxScale=0,this.spatialReference=null,this.tileInfo=null,this.tilemapCache=null}destroy(){var n,e;(e=(n=this.tilemapCache)==null?void 0:n.destroy)==null||e.call(n)}readMinScale(n,e){return e.minLOD!=null&&e.maxLOD!=null?n:0}readMaxScale(n,e){return e.minLOD!=null&&e.maxLOD!=null?n:0}get supportsBlankTile(){return this.version>=10.2}readTilemapCache(n,e,y){var d;const x=(d=e.capabilities)==null?void 0:d.includes("Tilemap");let{minLOD:r,maxLOD:o,minScale:p,maxScale:c}=e;if(r==null&&o==null&&p!==0&&c!==0){const a=s=>Math.round(1e4*s)/1e4;p=a(p||e.tileInfo.lods[0].scale),c=a(c||e.tileInfo.lods[e.tileInfo.lods.length-1].scale);for(const s of e.tileInfo.lods){const m=a(s.scale);r=m>=p?s.level:r,o=m>=c?s.level:o}}if(x)return new g({layer:this,minLOD:r,maxLOD:o});if(e.tileInfo){const a=new f;return a.read(e.tileInfo,y),new O(a,r,o)}return null}};return l([i({json:{read:{source:"copyrightText"}}})],t.prototype,"copyright",void 0),l([i()],t.prototype,"minScale",void 0),l([u("service","minScale")],t.prototype,"readMinScale",null),l([i()],t.prototype,"maxScale",void 0),l([u("service","maxScale")],t.prototype,"readMaxScale",null),l([i({type:S})],t.prototype,"spatialReference",void 0),l([i({readOnly:!0})],t.prototype,"supportsBlankTile",null),l([i({type:f})],t.prototype,"tileInfo",void 0),l([i()],t.prototype,"tilemapCache",void 0),l([u("service","tilemapCache",["capabilities","tileInfo"])],t.prototype,"readTilemapCache",null),l([i()],t.prototype,"version",void 0),t=l([I("esri.layers.mixins.ArcGISCachedService")],t),t};export{T as p};
